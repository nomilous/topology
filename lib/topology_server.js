// Generated by CoffeeScript 1.4.0
var TopologyServer;

TopologyServer = (function() {

  function TopologyServer(properties) {
    var prop;
    for (prop in properties) {
      this[prop] = properties[prop];
    }
    if (!this.app) {
      throw 'missing app';
    }
    if (!this.sockets) {
      throw 'missing sockets';
    }
    this.sockets.on('connection', function(socket) {
      socket.on('person:register', function(person) {
        person.key = 'KEY';
        return socket.emit('person:register:ok', person);
      });
      return socket.on('topology:start_at', function(payload) {
        return console.log('\n\ntopology:start_at:\n', payload);
      });
    });
  }

  return TopologyServer;

})();

module.exports = TopologyServer;
